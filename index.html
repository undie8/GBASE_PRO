<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GBase System</title>
    <script src="config.js"></script>
    <script>
        async function boot() {
            const params = new URLSearchParams(window.location.search);
            const target = params.get('p') || 'index.html';
            try {
                const res = await fetch(CONFIG.SCRIPT_URL + "?get=loadLatest&file=" + target);
                const data = await res.json();
                if (data.code) {
                    const clean = target === 'index.html' ? '' : target.replace('.html', '');
                    window.history.replaceState(null, '', window.location.origin + window.location.pathname.split('/').slice(0, -1).join('/') + '/' + clean);
                    document.open(); document.write(data.code); document.close();
                } else { throw new Error("File not found in Hub"); }
            } catch (e) {
                document.body.innerHTML = `<div style="background:#0f172a;color:#ef4444;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:sans-serif;padding:20px;text-align:center;">
                    <h3 style="margin-bottom:10px;">SYNC ERROR</h3><p style="color:#64748b;font-size:14px;">${e.message}</p>
                    <a href="${CONFIG.SCRIPT_URL}?page=hub" style="color:#3b82f6;margin-top:20px;text-decoration:none;font-weight:bold;">GO TO CODE HUB</a>
                </div>`;
            }
        }
        window.onload = boot;
    </script>
</head>
<body style="background:#0f172a; display:flex; align-items:center; justify-content:center; height:100vh; color:#3b82f6; font-family:sans-serif; font-size:10px; font-weight:bold; letter-spacing:2px;">SYNCING...</body>
</html>
